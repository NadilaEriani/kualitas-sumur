<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <title>Peta Kualitas Air Sumur</title>

    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.awesome-markers/dist/leaflet.awesome-markers.css"
    />

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.awesome-markers/dist/leaflet.awesome-markers.js"></script>
  </head>

  <body class="map-page">
    <header class="topnav">
      <div class="topnav-inner">
        <a class="nav-brand" href="index.html">
          <span class="nav-mark"><i class="fa-solid fa-water"></i></span>
          <span class="nav-title">SIG Air Sumur</span>
          <span class="nav-sub">Pekanbaru</span>
        </a>

        <nav class="nav-links" aria-label="Navigasi utama">
          <a class="nav-link" href="index.html">
            <i class="fa-solid fa-house"></i> Home
          </a>
          <a class="nav-link active" href="map.html">
            <i class="fa-solid fa-map-location-dot"></i> Maps
          </a>
          <a class="nav-link" href="data.html">
            <i class="fa-solid fa-database"></i> Database
          </a>
        </nav>
      </div>
    </header>

    <!-- SIDEBAR -->
    <aside id="sidebar">
      <header class="sidebar-header">
        <h2><i class="fa-solid fa-chart-column"></i> Dashboard SIG</h2>
        <span class="subtitle">Kualitas Air Sumur Pekanbaru</span>
      </header>

      <section class="card stat">
        <h3><i class="fa-solid fa-droplet"></i> Statistik Sumur</h3>

        <div class="stat-row">
          <span>Total Sumur</span><span id="total-sumur">0</span>
        </div>
        <div class="stat-row">
          <span>Sumur Bor</span><span id="count-bor">0</span>
        </div>
        <div class="stat-row">
          <span>Sumur Gali</span><span id="count-gali">0</span>
        </div>
      </section>

      <section class="card risk">
        <h3>
          <i class="fa-solid fa-triangle-exclamation"></i> Risiko Pencemaran
        </h3>

        <label class="switch-row">
          <span> <span class="dot red"></span> Risiko Tinggi </span>
          <label class="switch">
            <input type="checkbox" id="toggleRiskHigh" checked />
            <span class="slider"></span>
          </label>
        </label>

        <label class="switch-row">
          <span> <span class="dot yellow"></span> Risiko Sedang </span>
          <label class="switch">
            <input type="checkbox" id="toggleRiskMedium" checked />
            <span class="slider"></span>
          </label>
        </label>

        <label class="switch-row">
          <span> <span class="dot green"></span> Risiko Rendah </span>
          <label class="switch">
            <input type="checkbox" id="toggleRiskLow" checked />
            <span class="slider"></span>
          </label>
        </label>
      </section>

      <!-- LAYER PETA -->
      <section class="card">
        <h3><i class="fa-solid fa-layer-group"></i> Layer Peta</h3>

        <label class="switch-row">
          <span
            ><i class="fa-solid fa-draw-polygon"></i> Wilayah Administrasi
            Riau</span
          >
          <label class="switch">
            <input type="checkbox" id="togglePolygon" checked />
            <span class="slider"></span>
          </label>
        </label>

        <label class="switch-row">
          <span><i class="fa-solid fa-border-all"></i> Batas Wilayah</span>
          <label class="switch">
            <input type="checkbox" id="toggleBoundary" checked />
            <span class="slider"></span>
          </label>
        </label>

        <label class="switch-row">
          <span
            ><i class="fa-solid fa-location-dot"></i> Titik Persebaran
            Sumur</span
          >
          <label class="switch">
            <input type="checkbox" id="togglePoint" checked />
            <span class="slider"></span>
          </label>
        </label>
      </section>

      <section class="card">
        <h3><i class="fa-solid fa-droplet"></i> Jenis Sumur</h3>

        <label class="switch-row">
          <span> <span class="dot blue"></span> Sumur Bor </span>
          <label class="switch">
            <input type="checkbox" id="toggleBor" checked />
            <span class="slider"></span>
          </label>
        </label>

        <label class="switch-row">
          <span> <span class="dot teal"></span> Sumur Gali </span>
          <label class="switch">
            <input type="checkbox" id="toggleGali" checked />
            <span class="slider"></span>
          </label>
        </label>
      </section>

      <!-- ✅ FILTER BARU (pH & Jarak) -->
      <section class="card" id="filter-card">
        <h3><i class="fa-solid fa-filter"></i> Filter pH & Jarak</h3>

        <div class="filter-grid">
          <div class="fg">
            <label for="filter-ph-min">pH Min</label>
            <input
              id="filter-ph-min"
              type="number"
              step="0.1"
              placeholder="cth: 6.5"
            />
          </div>

          <div class="fg">
            <label for="filter-ph-max">pH Max</label>
            <input
              id="filter-ph-max"
              type="number"
              step="0.1"
              placeholder="cth: 8.0"
            />
          </div>

          <div class="fg">
            <label for="filter-septic-min">Septic Min (m)</label>
            <input
              id="filter-septic-min"
              type="number"
              step="1"
              placeholder="cth: 5"
            />
          </div>

          <div class="fg">
            <label for="filter-septic-max">Septic Max (m)</label>
            <input
              id="filter-septic-max"
              type="number"
              step="1"
              placeholder="cth: 30"
            />
          </div>

          <div class="fg">
            <label for="filter-selokan-min">Selokan Min (m)</label>
            <input
              id="filter-selokan-min"
              type="number"
              step="1"
              placeholder="cth: 5"
            />
          </div>

          <div class="fg">
            <label for="filter-selokan-max">Selokan Max (m)</label>
            <input
              id="filter-selokan-max"
              type="number"
              step="1"
              placeholder="cth: 30"
            />
          </div>
        </div>

        <div class="filter-actions">
          <button
            type="button"
            id="btn-apply-filter"
            class="btn-filter primary"
          >
            Terapkan
          </button>
          <button type="button" id="btn-reset-filter" class="btn-filter">
            Reset
          </button>
        </div>

        <div class="filter-result">
          Menampilkan <b><span id="filter-count">0</span></b> titik
        </div>
      </section>

      <!-- ❌ “Parameter Fisik Air” DIHAPUS sesuai permintaan -->
    </aside>

    <!-- BASEMAP CONTROL -->
    <div id="basemap-control">
      <h4>Pilih Basemap</h4>
      <select id="basemap-select">
        <option value="osm">OSM Default</option>
        <option value="carto-light">Carto Light</option>
        <option value="carto-dark">Carto Dark</option>
      </select>
    </div>

    <!-- MAP -->
    <div id="map"></div>

    <script src="script.js"></script>
  </body>
</html>
